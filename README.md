# Plexy - Telegram бот с Google Gemini AI

Plexy - это современный бот для Telegram, разработанный компанией Plexy Lab, который использует продвинутые модели Google Gemini AI для генерации текста и изображений в ответ на сообщения пользователей.

## Возможности

- Несколько моделей искусственного интеллекта на выбор:
  - Plext (gemini-2.5-pro-exp-03-25) - стандартная модель
  - Plexy think (gemini-2.0-flash-thinking-exp-01-21) - модель с рассуждениями
  - Plexy art (gemini-2.0-flash-exp-image-generation) - генератор изображений
- Все модели доступны бесплатно для всех пользователей
- Генерация текстовых ответов с использованием всех моделей Gemini
- Генерация изображений с помощью специализированной модели
- Сохранение и управление историей диалогов для каждого пользователя
- Анализ изображений и стикеров
- Статистика использования
- Настройки персонализации для каждого пользователя
- Система ролей пользователей (администратор, премиум, обычный пользователь)

## Установка

1. Клонируйте репозиторий:
```
git clone https://github.com/ваш-репозиторий/plexy-bot.git
cd plexy-bot
```

2. Установите зависимости:
```
npm install
```

3. Создайте файл `.env` в корневой директории проекта и добавьте:
```
TELEGRAM_TOKEN=ВАШ_ТОКЕН_TELEGRAM_БОТА
GEMINI_API_KEY=ВАШ_КЛЮЧ_API_GEMINI
ADMIN_ID=ВАШ_TELEGRAM_ID
```

## Настройка

### Получение Telegram токена

1. Для создания нового бота в Telegram, начните диалог с [@BotFather](https://t.me/botfather)
2. Отправьте команду `/newbot` и следуйте инструкциям
3. После создания бота, вы получите токен, который нужно вставить в файл `.env`

### Получение API ключа Google Gemini

1. Перейдите на сайт [Google AI Studio](https://ai.google.dev/)
2. Создайте новый проект
3. Получите API ключ и вставьте его в файл `.env`

### Настройка администратора

Для полного доступа к функциям бота, укажите ваш Telegram ID в переменной `ADMIN_ID` в файле `.env`. Чтобы узнать ваш ID, вы можете использовать бота [@userinfobot](https://t.me/userinfobot).

## Система ролей

Бот поддерживает следующие роли пользователей:

- **Администратор (admin)**: полный доступ ко всем функциям бота, включая управление пользователями
- **Премиум (premium)**: доступ ко всем функциям
- **Пользователь (user)**: доступ ко всем функциям и моделям

Только администратор может назначать роли другим пользователям, используя команду `/setrole [ID] [роль]`.

## Запуск бота

```
npm start
```

Для разработки с автоматической перезагрузкой:
```
npm run dev
```

## Команды бота

### Основные команды (доступны всем)
- `/start` - Начало взаимодействия с ботом
- `/help` - Показать справку со всеми командами
- `/models` - Показать список доступных моделей
- `/model` - Показать текущую активную модель
- `/setmodel` - Выбрать модель (например: `/setmodel 2`)
- `/reset` - Сбросить историю текущего чата
- `/clear` - Очистить историю диалога (аналогично /reset)
- `/stats` - Показать статистику использования
- `/settings` - Показать текущие настройки
- `/role` - Показать свою текущую роль
- `/about` - Информация о боте и разработчике

### Команды администратора
- `/setrole [ID] [роль]` - Установить роль пользователя
- `/users` - Показать список пользователей и их роли

## Поддерживаемые типы сообщений

- Текстовые сообщения
- Изображения (фотографии)
- Статические стикеры

## Структура проекта

- `bot.js` - Основной файл с логикой бота
- `imageHandler.js` - Модуль для обработки изображений
- `.env` - Файл с конфигурацией и ключами API
- `temp/` - Временная директория для хранения сгенерированных изображений

## Разработчик

Plexy Lab © 2023-2024, Владелец: qynon 